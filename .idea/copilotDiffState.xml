<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/storecomponents/view/LoginScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/storecomponents/view/LoginScreen.kt" />
              <option name="originalContent" value="package com.example.storecomponents.view&#10;&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxHeight&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.saveable.rememberSaveable&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalFocusManager&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;&#10;@Composable&#10;fun LoginScreen(&#10;    onLogin: (usernameOrEmail: String, password: String) -&gt; Unit = { _, _ -&gt; }&#10;) {&#10;    val focusManager = LocalFocusManager.current&#10;&#10;    var userOrEmail by rememberSaveable { mutableStateOf(&quot;&quot;) }&#10;    var password by rememberSaveable { mutableStateOf(&quot;&quot;) }&#10;    var showError by remember { mutableStateOf(false) }&#10;&#10;    // ahora permitimos login con usuario o correo; validamos solo la longitud de password&#10;    val isPasswordValid = password.length &gt;= 8&#10;    val canSubmit = userOrEmail.isNotBlank() &amp;&amp; isPasswordValid&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .padding(16.dp)&#10;            .fillMaxHeight()&#10;            .fillMaxWidth(),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(text = &quot;Iniciar sesión&quot;, style = MaterialTheme.typography.titleLarge)&#10;&#10;        OutlinedTextField(&#10;            value = userOrEmail,&#10;            onValueChange = {&#10;                userOrEmail = it&#10;                showError = false&#10;            },&#10;            label = { Text(&quot;Usuario o correo&quot;) },&#10;            modifier = Modifier.fillMaxWidth()&#10;        )&#10;&#10;        OutlinedTextField(&#10;            value = password,&#10;            onValueChange = {&#10;                password = it&#10;                showError = false&#10;            },&#10;            label = { Text(&quot;Contraseña&quot;) },&#10;            visualTransformation = PasswordVisualTransformation(),&#10;            modifier = Modifier.fillMaxWidth()&#10;        )&#10;&#10;        if (showError) {&#10;            Text(text = &quot;Usuario o contraseña incorrectos&quot;, color = Color.Red)&#10;        }&#10;&#10;        Button(&#10;            onClick = {&#10;                focusManager.clearFocus()&#10;                if (canSubmit) {&#10;                    onLogin(userOrEmail.trim(), password)&#10;                } else {&#10;                    showError = true&#10;                }&#10;            },&#10;            enabled = canSubmit,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Text(text = &quot;Iniciar sesión&quot;)&#10;        }&#10;&#10;        // Hint para pruebas&#10;        Text(text = &quot;Prueba: cliente -&gt; user: 'cliente 1' pass: 'cliente123' | admin -&gt; user contains 'admin' and pass 'admin123'&quot;, style = MaterialTheme.typography.bodySmall)&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun LoginScreenPreview() {&#10;    LoginScreen { username, password -&gt;&#10;        println(&quot;Usuario/Correo: $username&quot;)&#10;        println(&quot;Contraseña: $password&quot;)&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.storecomponents.view&#10;&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxHeight&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.saveable.rememberSaveable&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalFocusManager&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;&#10;@Composable&#10;fun LoginScreen(&#10;    onLogin: (usernameOrEmail: String, password: String) -&gt; Unit = { _, _ -&gt; }&#10;) {&#10;    val focusManager = LocalFocusManager.current&#10;&#10;    var userOrEmail by rememberSaveable { mutableStateOf(&quot;&quot;) }&#10;    var password by rememberSaveable { mutableStateOf(&quot;&quot;) }&#10;    var showError by remember { mutableStateOf(false) }&#10;&#10;    // ahora permitimos login con usuario o correo; validamos solo la longitud de password&#10;    val isPasswordValid = password.length &gt;= 8&#10;    val canSubmit = userOrEmail.isNotBlank() &amp;&amp; isPasswordValid&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .padding(16.dp)&#10;            .fillMaxHeight()&#10;            .fillMaxWidth(),&#10;        verticalArrangement = Arrangement.spacedBy(12.dp),&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Text(text = &quot;Iniciar sesión&quot;, style = MaterialTheme.typography.titleLarge)&#10;&#10;        OutlinedTextField(&#10;            value = userOrEmail,&#10;            onValueChange = {&#10;                userOrEmail = it&#10;                showError = false&#10;            },&#10;            label = { Text(&quot;Usuario o correo&quot;) },&#10;            modifier = Modifier.fillMaxWidth()&#10;        )&#10;&#10;        OutlinedTextField(&#10;            value = password,&#10;            onValueChange = {&#10;                password = it&#10;                showError = false&#10;            },&#10;            label = { Text(&quot;Contraseña&quot;) },&#10;            visualTransformation = PasswordVisualTransformation(),&#10;            modifier = Modifier.fillMaxWidth()&#10;        )&#10;&#10;        if (showError) {&#10;            Text(text = &quot;Usuario o contraseña incorrectos&quot;, color = Color.Red)&#10;        }&#10;&#10;        Button(&#10;            onClick = {&#10;                focusManager.clearFocus()&#10;                if (canSubmit) {&#10;                    onLogin(userOrEmail.trim(), password)&#10;                } else {&#10;                    showError = true&#10;                }&#10;            },&#10;            enabled = canSubmit,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;            Text(text = &quot;Iniciar sesión&quot;)&#10;        }&#10;&#10;        // Hint para pruebas&#10;        Text(text = &quot;Prueba: cliente -&gt; user: 'cliente 1' pass: 'cliente123' | admin -&gt; user contains 'admin' and pass 'admin123'&quot;, style = MaterialTheme.typography.bodySmall)&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun LoginScreenPreview() {&#10;    LoginScreen { username, password -&gt;&#10;        println(&quot;Usuario/Correo: $username&quot;)&#10;        println(&quot;Contraseña: $password&quot;)&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>